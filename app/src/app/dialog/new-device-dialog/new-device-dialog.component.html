<h2 mat-dialog-title align="center">New Device
    <span>
        <h4 class="dialog-subtitle"> Add a new device to your list</h4>
        <mat-divider></mat-divider>
    </span>
</h2>

<mat-dialog-content>
    <form [formGroup]="deviceForm" class="device-form">

        <mat-form-field class="form-field" appearance="fill" floatLabel="always">
            <mat-label>Device Category</mat-label>
            <mat-select formControlName="deviceCategory" placeholder="Select device category" required (selectionChange)="onDeviceCategorySelection($event)">
                <mat-option value="Multimedia">Multimedia</mat-option>
                <mat-option value="Washing">Washing</mat-option>
                <mat-option value="Kitchen">Kitchen</mat-option>
                <mat-option value="Cooling">Cooling</mat-option>
                <mat-option value="Other">Other</mat-option>
            </mat-select>
            <mat-hint align="start"><strong>The general category that best fits your device (ex: 'Multimedia')</strong></mat-hint>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="fill" floatLabel="always">
            <mat-label>Device Type</mat-label>
            <mat-select formControlName="deviceType" placeholder="Select device type" required>
                <mat-option *ngFor="let deviceType of deviceTypes" [value]="deviceType.type_name">{{ deviceType.type_name }} ({{deviceType.power_min}}W - {{deviceType.power_max}}W)</mat-option>
            </mat-select>
            <mat-hint align="start"><strong>The type of your device based on device category (ex: 'Fridge')</strong></mat-hint>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="fill" floatLabel="always">
            <mat-label>Device Name</mat-label>
            <input matInput formControlName="deviceName" placeholder="Enter device name" required>
            <mat-hint align="start"><strong>The name of your device (ex: 'Samsung 4K TV')</strong></mat-hint>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="fill" floatLabel="always">
            <mat-label>Usage Frequency</mat-label>
            <mat-select formControlName="usageFrequency" placeholder="Select usage frequency" required>
                <mat-option value="L">Low</mat-option>
                <mat-option value="N">Normal</mat-option>
                <mat-option value="H">High</mat-option>
            </mat-select>
            <mat-hint align="start"><strong>How frequently your device is being used (default: 'Normal')</strong></mat-hint>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="fill" floatLabel="always">
            <mat-label>Alert High Threshold (%)</mat-label>
            <input matInput formControlName="alertThresholdHigh" placeholder="Enter alert high threshold" type="number">
            <span matSuffix class="numeric-percentage">%</span>
            <mat-hint align="start"><strong>The high consumption threshold for alerts (default: '130%')</strong></mat-hint>
        </mat-form-field>
        <mat-form-field class="form-field" appearance="fill" floatLabel="always">
            <mat-label>Alert Low Threshold (%)</mat-label>
            <input matInput formControlName="alertThresholdLow" placeholder="Enter alert low threshold" type="number">
            <span matSuffix class="numeric-percentage">%</span>
            <mat-hint align="start"><strong>The low consumption threshold for alerts (default: '0%')</strong></mat-hint>
        </mat-form-field>
    </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-button color="primary" (click)="onSave()">Save</button>
</mat-dialog-actions>